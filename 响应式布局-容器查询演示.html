<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>响应式布局 - 容器查询演示</title>
    <style>
      /* 重置样式 */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background: #f8f9fa;
      }

      /* 容器样式 */
      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 2rem;
      }

      /* 头部样式 */
      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 3rem 0;
        text-align: center;
        margin-bottom: 3rem;
      }

      .header h1 {
        font-size: 3rem;
        margin-bottom: 1rem;
        font-weight: 700;
      }

      .header p {
        font-size: 1.3rem;
        opacity: 0.9;
        max-width: 600px;
        margin: 0 auto;
      }

      /* 主布局 */
      .main-layout {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-bottom: 3rem;
      }

      /* 容器查询组件 */
      .card-container {
        container-type: inline-size;
        container-name: card;
        background: white;
        border-radius: 12px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .card-container:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
      }

      /* 卡片内容 - 默认样式 */
      .card-content {
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .card-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 8px;
      }

      .card-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 0.5rem;
      }

      .card-description {
        color: #666;
        line-height: 1.6;
        flex-grow: 1;
      }

      .card-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid #eee;
      }

      .card-tags {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
      }

      .tag {
        background: #667eea;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.8rem;
      }

      .card-actions {
        display: flex;
        gap: 0.5rem;
      }

      .btn {
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: all 0.3s ease;
      }

      .btn-primary {
        background: #667eea;
        color: white;
      }

      .btn-primary:hover {
        background: #5a6fd8;
      }

      .btn-secondary {
        background: #e9ecef;
        color: #495057;
      }

      .btn-secondary:hover {
        background: #dee2e6;
      }

      /* 容器查询 - 小尺寸 (宽度 < 400px) */
      @container card (max-width: 399px) {
        .card-content {
          padding: 1rem;
        }

        .card-title {
          font-size: 1.2rem;
        }

        .card-meta {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.5rem;
        }

        .card-actions {
          width: 100%;
          justify-content: stretch;
        }

        .btn {
          flex: 1;
          text-align: center;
        }
      }

      /* 容器查询 - 中等尺寸 (400px - 599px) */
      @container card (min-width: 400px) and (max-width: 599px) {
        .card-content {
          padding: 1.25rem;
        }

        .card-title {
          font-size: 1.3rem;
        }

        .card-meta {
          flex-direction: row;
          justify-content: space-between;
        }

        .card-actions {
          gap: 0.75rem;
        }
      }

      /* 容器查询 - 大尺寸 (宽度 >= 600px) */
      @container card (min-width: 600px) {
        .card-content {
          padding: 2rem;
          flex-direction: row;
          gap: 1.5rem;
        }

        .card-image {
          width: 200px;
          height: 150px;
          flex-shrink: 0;
        }

        .card-text {
          flex: 1;
          display: flex;
          flex-direction: column;
        }

        .card-title {
          font-size: 1.6rem;
        }

        .card-meta {
          margin-top: auto;
        }
      }

      /* 容器查询 - 超大尺寸 (宽度 >= 800px) */
      @container card (min-width: 800px) {
        .card-content {
          padding: 2.5rem;
        }

        .card-image {
          width: 250px;
          height: 180px;
        }

        .card-title {
          font-size: 1.8rem;
        }

        .card-description {
          font-size: 1.1rem;
        }
      }

      /* 特色展示区域 */
      .showcase-section {
        margin: 3rem 0;
      }

      .showcase-title {
        text-align: center;
        font-size: 2.5rem;
        color: #2c3e50;
        margin-bottom: 2rem;
      }

      .showcase-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
      }

      /* 产品卡片容器查询 */
      .product-container {
        container-type: inline-size;
        container-name: product;
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: all 0.3s ease;
      }

      .product-container:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      }

      .product-content {
        padding: 1rem;
        text-align: center;
      }

      .product-image {
        width: 100%;
        height: 150px;
        object-fit: cover;
        border-radius: 8px;
        margin-bottom: 1rem;
      }

      .product-name {
        font-size: 1.2rem;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 0.5rem;
      }

      .product-price {
        font-size: 1.5rem;
        font-weight: bold;
        color: #e74c3c;
        margin-bottom: 1rem;
      }

      .product-description {
        color: #666;
        font-size: 0.9rem;
        margin-bottom: 1rem;
      }

      .product-actions {
        display: flex;
        gap: 0.5rem;
        justify-content: center;
      }

      /* 产品卡片容器查询 */
      @container product (max-width: 199px) {
        .product-content {
          padding: 0.75rem;
        }

        .product-name {
          font-size: 1rem;
        }

        .product-price {
          font-size: 1.2rem;
        }

        .product-description {
          display: none;
        }

        .product-actions {
          flex-direction: column;
        }

        .btn {
          padding: 0.4rem 0.8rem;
          font-size: 0.8rem;
        }
      }

      @container product (min-width: 200px) and (max-width: 299px) {
        .product-content {
          padding: 1rem;
        }

        .product-actions {
          flex-direction: row;
          flex-wrap: wrap;
        }
      }

      @container product (min-width: 300px) {
        .product-content {
          padding: 1.5rem;
        }

        .product-image {
          height: 200px;
        }

        .product-name {
          font-size: 1.4rem;
        }

        .product-price {
          font-size: 1.8rem;
        }

        .product-description {
          font-size: 1rem;
        }
      }

      /* 响应式调整区域 */
      .adjustment-section {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        margin: 3rem 0;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .adjustment-title {
        font-size: 2rem;
        color: #2c3e50;
        margin-bottom: 1rem;
        text-align: center;
      }

      .adjustment-controls {
        display: flex;
        gap: 1rem;
        justify-content: center;
        margin-bottom: 2rem;
        flex-wrap: wrap;
      }

      .control-group {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
      }

      .control-label {
        font-weight: 600;
        color: #495057;
      }

      .control-slider {
        width: 150px;
      }

      .demo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-top: 2rem;
      }

      .demo-item {
        container-type: inline-size;
        container-name: demo;
        background: #f8f9fa;
        border: 2px solid #dee2e6;
        border-radius: 8px;
        padding: 1rem;
        text-align: center;
        transition: all 0.3s ease;
      }

      .demo-item:hover {
        border-color: #667eea;
        background: #f0f2ff;
      }

      .demo-content {
        padding: 1rem;
      }

      .demo-title {
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 0.5rem;
      }

      .demo-description {
        color: #666;
        font-size: 0.9rem;
      }

      /* 演示项容器查询 */
      @container demo (max-width: 199px) {
        .demo-content {
          padding: 0.5rem;
        }

        .demo-title {
          font-size: 0.9rem;
        }

        .demo-description {
          display: none;
        }
      }

      @container demo (min-width: 200px) and (max-width: 299px) {
        .demo-content {
          padding: 0.75rem;
        }

        .demo-title {
          font-size: 1rem;
        }

        .demo-description {
          font-size: 0.8rem;
        }
      }

      @container demo (min-width: 300px) {
        .demo-content {
          padding: 1.5rem;
        }

        .demo-title {
          font-size: 1.2rem;
        }

        .demo-description {
          font-size: 1rem;
        }
      }

      /* 页脚 */
      .footer {
        background: #2c3e50;
        color: white;
        text-align: center;
        padding: 2rem;
        margin-top: 3rem;
      }

      .footer h3 {
        margin-bottom: 1rem;
      }

      .footer p {
        opacity: 0.8;
      }

      /* 响应式断点 */
      @media (max-width: 768px) {
        .container {
          padding: 1rem;
        }

        .header h1 {
          font-size: 2rem;
        }

        .main-layout {
          grid-template-columns: 1fr;
        }

        .adjustment-controls {
          flex-direction: column;
          align-items: center;
        }

        .control-slider {
          width: 200px;
        }
      }

      @media (max-width: 480px) {
        .header h1 {
          font-size: 1.5rem;
        }

        .showcase-title {
          font-size: 2rem;
        }

        .adjustment-title {
          font-size: 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- 头部区域 -->
    <header class="header">
      <div class="container">
        <h1>容器查询 (Container Queries)</h1>
        <p>基于容器尺寸而非视口的响应式设计，让组件更加灵活和可复用</p>
      </div>
    </header>

    <!-- 主要内容 -->
    <main class="container">
      <!-- 卡片展示区域 -->
      <section class="main-layout">
        <div class="card-container">
          <img
            src="https://via.placeholder.com/400x200/667eea/ffffff?text=容器查询+1"
            alt="容器查询示例1"
            class="card-image"
          />
          <div class="card-content">
            <h3 class="card-title">容器查询技术</h3>
            <p class="card-description">
              容器查询是 CSS
              的新特性，允许我们根据容器的尺寸而不是视口尺寸来应用样式。
              这使得组件能够根据其可用空间智能地调整布局，实现真正的组件级响应式设计。
            </p>
            <div class="card-meta">
              <div class="card-tags">
                <span class="tag">CSS</span>
                <span class="tag">响应式</span>
                <span class="tag">组件</span>
              </div>
              <div class="card-actions">
                <button class="btn btn-primary">了解更多</button>
                <button class="btn btn-secondary">收藏</button>
              </div>
            </div>
          </div>
        </div>

        <div class="card-container">
          <img
            src="https://via.placeholder.com/400x200/764ba2/ffffff?text=容器查询+2"
            alt="容器查询示例2"
            class="card-image"
          />
          <div class="card-content">
            <h3 class="card-title">组件级响应式</h3>
            <p class="card-description">
              传统的媒体查询基于视口尺寸，而容器查询基于组件容器的尺寸。
              这意味着同一个组件可以在不同的上下文中表现出不同的布局，提高了组件的复用性和灵活性。
            </p>
            <div class="card-meta">
              <div class="card-tags">
                <span class="tag">组件</span>
                <span class="tag">复用</span>
                <span class="tag">灵活</span>
              </div>
              <div class="card-actions">
                <button class="btn btn-primary">查看示例</button>
                <button class="btn btn-secondary">分享</button>
              </div>
            </div>
          </div>
        </div>

        <div class="card-container">
          <img
            src="https://via.placeholder.com/400x200/ff9a9e/ffffff?text=容器查询+3"
            alt="容器查询示例3"
            class="card-image"
          />
          <div class="card-content">
            <h3 class="card-title">现代 CSS 特性</h3>
            <p class="card-description">
              容器查询是现代 CSS 的重要特性，为响应式设计带来了新的可能性。
              它让我们能够创建更加智能和自适应的组件，提升用户体验和开发效率。
            </p>
            <div class="card-meta">
              <div class="card-tags">
                <span class="tag">现代</span>
                <span class="tag">CSS</span>
                <span class="tag">创新</span>
              </div>
              <div class="card-actions">
                <button class="btn btn-primary">开始使用</button>
                <button class="btn btn-secondary">文档</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 产品展示区域 -->
      <section class="showcase-section">
        <h2 class="showcase-title">产品卡片容器查询演示</h2>
        <div class="showcase-grid">
          <div class="product-container">
            <img
              src="https://via.placeholder.com/300x200/4ecdc4/ffffff?text=产品+1"
              alt="产品1"
              class="product-image"
            />
            <div class="product-content">
              <h3 class="product-name">智能手表</h3>
              <div class="product-price">¥1,299</div>
              <p class="product-description">
                功能强大的智能手表，支持健康监测和运动追踪
              </p>
              <div class="product-actions">
                <button class="btn btn-primary">立即购买</button>
                <button class="btn btn-secondary">加入购物车</button>
              </div>
            </div>
          </div>

          <div class="product-container">
            <img
              src="https://via.placeholder.com/300x200/45b7d1/ffffff?text=产品+2"
              alt="产品2"
              class="product-image"
            />
            <div class="product-content">
              <h3 class="product-name">无线耳机</h3>
              <div class="product-price">¥599</div>
              <p class="product-description">
                高品质无线耳机，降噪技术，长续航
              </p>
              <div class="product-actions">
                <button class="btn btn-primary">立即购买</button>
                <button class="btn btn-secondary">加入购物车</button>
              </div>
            </div>
          </div>

          <div class="product-container">
            <img
              src="https://via.placeholder.com/300x200/f9ca24/ffffff?text=产品+3"
              alt="产品3"
              class="product-image"
            />
            <div class="product-content">
              <h3 class="product-name">智能音箱</h3>
              <div class="product-price">¥899</div>
              <p class="product-description">AI 智能音箱，语音控制，音质出色</p>
              <div class="product-actions">
                <button class="btn btn-primary">立即购买</button>
                <button class="btn btn-secondary">加入购物车</button>
              </div>
            </div>
          </div>

          <div class="product-container">
            <img
              src="https://via.placeholder.com/300x200/6c5ce7/ffffff?text=产品+4"
              alt="产品4"
              class="product-image"
            />
            <div class="product-content">
              <h3 class="product-name">平板电脑</h3>
              <div class="product-price">¥2,999</div>
              <p class="product-description">高性能平板电脑，适合工作和娱乐</p>
              <div class="product-actions">
                <button class="btn btn-primary">立即购买</button>
                <button class="btn btn-secondary">加入购物车</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 动态调整区域 -->
      <section class="adjustment-section">
        <h2 class="adjustment-title">动态调整容器尺寸</h2>
        <p style="text-align: center; color: #666; margin-bottom: 2rem">
          使用滑块调整容器宽度，观察容器查询如何响应尺寸变化
        </p>

        <div class="adjustment-controls">
          <div class="control-group">
            <label class="control-label">容器宽度</label>
            <input
              type="range"
              class="control-slider"
              id="widthSlider"
              min="200"
              max="800"
              value="400"
              oninput="adjustContainerWidth(this.value)"
            />
            <span id="widthValue">400px</span>
          </div>
        </div>

        <div class="demo-grid" id="demoGrid">
          <div class="demo-item">
            <div class="demo-content">
              <h4 class="demo-title">演示项目 1</h4>
              <p class="demo-description">
                这是一个容器查询演示项目，会根据容器尺寸调整布局
              </p>
            </div>
          </div>
          <div class="demo-item">
            <div class="demo-content">
              <h4 class="demo-title">演示项目 2</h4>
              <p class="demo-description">调整容器宽度可以看到不同的布局效果</p>
            </div>
          </div>
          <div class="demo-item">
            <div class="demo-content">
              <h4 class="demo-title">演示项目 3</h4>
              <p class="demo-description">容器查询让组件更加智能和灵活</p>
            </div>
          </div>
          <div class="demo-item">
            <div class="demo-content">
              <h4 class="demo-title">演示项目 4</h4>
              <p class="demo-description">现代 CSS 的强大功能</p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- 页脚 -->
    <footer class="footer">
      <h3>容器查询技术</h3>
      <p>让组件根据自身尺寸智能调整，实现真正的组件级响应式设计</p>
    </footer>

    <script>
      // 动态调整容器宽度
      function adjustContainerWidth(width) {
        const demoGrid = document.getElementById("demoGrid");
        const widthValue = document.getElementById("widthValue");

        demoGrid.style.gridTemplateColumns = `repeat(auto-fit, minmax(${width}px, 1fr))`;
        widthValue.textContent = width + "px";
      }

      // 添加一些交互效果
      document.addEventListener("DOMContentLoaded", function () {
        // 为卡片添加点击效果
        const cards = document.querySelectorAll(
          ".card-container, .product-container, .demo-item"
        );
        cards.forEach((card) => {
          card.addEventListener("click", function () {
            this.style.transform = "scale(0.98)";
            setTimeout(() => {
              this.style.transform = "";
            }, 150);
          });
        });

        // 为按钮添加点击效果
        const buttons = document.querySelectorAll(".btn");
        buttons.forEach((btn) => {
          btn.addEventListener("click", function (e) {
            e.stopPropagation();
            this.style.transform = "scale(0.95)";
            setTimeout(() => {
              this.style.transform = "";
            }, 100);
          });
        });

        // 添加键盘导航支持
        document.addEventListener("keydown", function (e) {
          if (e.key === "Tab") {
            document.body.classList.add("keyboard-navigation");
          }
        });

        document.addEventListener("mousedown", function () {
          document.body.classList.remove("keyboard-navigation");
        });
      });

      // 显示容器查询信息
      function showContainerQueryInfo() {
        alert(
          "容器查询 (Container Queries) 是 CSS 的新特性！\n\n主要特点：\n• 基于容器尺寸而非视口\n• 组件级响应式设计\n• 提高组件复用性\n• 更灵活的布局控制\n\n调整容器宽度来查看效果！"
        );
      }
    </script>

    <style>
      /* 键盘导航样式 */
      .keyboard-navigation .card-container:focus,
      .keyboard-navigation .product-container:focus,
      .keyboard-navigation .demo-item:focus,
      .keyboard-navigation .btn:focus {
        outline: 3px solid #667eea;
        outline-offset: 2px;
      }

      /* 滑块样式 */
      .control-slider {
        -webkit-appearance: none;
        appearance: none;
        height: 6px;
        background: #ddd;
        border-radius: 3px;
        outline: none;
      }

      .control-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        background: #667eea;
        border-radius: 50%;
        cursor: pointer;
      }

      .control-slider::-moz-range-thumb {
        width: 20px;
        height: 20px;
        background: #667eea;
        border-radius: 50%;
        cursor: pointer;
        border: none;
      }
    </style>
  </body>
</html>
